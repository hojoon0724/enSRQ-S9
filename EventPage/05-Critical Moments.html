<style>
  :root {
    font-family: 'museo';
  }

  .s9-banner-container {
    width: 100svw;
    height: 60svh;
    overflow: hidden;
    position: relative;
    margin: 0;
  }
  .moving-strip-container {
    width: 300svw;
    height: 100%;
    position: absolute;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
  }

  .moving-strip {
    height: 5svh;
    width: 300svw;
    background-repeat: no-repeat;
    background-size: 50svw 100svw;
    position: absolute;
    opacity: 1;
    transition: opacity 1s ease-in-out;
  }

  .s9-grain-sand {
    background: linear-gradient(
        90deg,
        rgba(251, 130, 0, 0),
        rgba(251, 130, 0, 1),
        rgba(251, 130, 0, 0),
        rgba(251, 130, 0, 1),
        rgba(251, 130, 0, 0),
        rgba(251, 130, 0, 1),
        rgba(251, 130, 0, 0)
      ),
      url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
  .s9-grain-green {
    background: linear-gradient(
        90deg,
        rgba(0, 251, 134, 0),
        rgba(0, 251, 134, 1),
        rgba(0, 251, 134, 0),
        rgba(0, 251, 134, 1),
        rgba(0, 251, 134, 0),
        rgba(0, 251, 134, 1),
        rgba(0, 251, 134, 0)
      ),
      url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
  .s9-grain-blue {
    background: linear-gradient(
        90deg,
        rgba(0, 58, 255, 0.3),
        rgba(0, 58, 255, 1),
        rgba(0, 58, 255, 0.3),
        rgba(0, 58, 255, 1),
        rgba(0, 58, 255, 0.3),
        rgba(0, 58, 255, 1),
        rgba(0, 58, 255, 0.3)
      ),
      url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }

  @keyframes slide {
    from {
      transform: translateX(0svw);
    }
    to {
      transform: translateX(-100svw);
    }
  }

  .justify-center {
    justify-content: center;
  }

  .align-center {
    align-items: center;
  }

  .s9-text-container {
    position: absolute;
    height: 100%;
    width: 100%;
    z-index: 100;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-weight: 700;
  }

  .s9-banner-buttons-container {
    margin-top: 2.5rem;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .s9-purchase-tickets-button,
  .s9-livestream-access-button {
    margin: 0.5rem 1rem;
    font-size: 1rem;
    padding: 1rem 2.5rem;
    border: 1px solid black;
    border-radius: 1.5rem;
    background-color: white;
  }

  .s9-banner-heading {
    font-size: 5rem;
    line-height: 5rem;
    text-align: center;
  }

  .s9-event-details-container,
  .s9-program-container {
    padding: 2rem 1rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .s9-top-row-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .s9-banner-event-title {
    font-family: 'museo-slab', serif;
    font-weight: 500;
    font-size: 3rem;
    line-height: 3rem;
    text-align: center;
    /* background-color: var(--flk); */
  }
  .s9-event-title {
    font-family: 'museo-slab', serif;
    font-weight: 500;
    font-size: 3rem;
    line-height: 3rem;
    /* background-color: var(--flk); */
  }

  .s9-event-date {
    font-size: 1.5rem;
  }

  .s9-event-blurb {
    max-width: 72ch;
    text-align: justify;
    margin-left: auto;
    margin-top: 3rem;
    margin-bottom: 3rem;
  }
  .s9-artists-block-container {
    width: 100%;
    display: grid;
  }

  @media screen and (min-width: 1024px) {
    .s9-artists-block-container {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  @media screen and (min-width: 768px) and (max-width: 1023px) {
    .s9-artists-block-container {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  @media screen and (max-width: 767px) {
    .s9-artists-block-container {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .s9-artist-container {
    margin-bottom: 1rem;
  }

  .s9-artist-photo img {
    object-fit: fill;
    width: 100%;
  }

  .s9-artist-name {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0.5rem;
  }

  .s9-program-title {
    font-size: 2rem;
    padding: 2rem 0rem 1rem 0rem;
  }

  .s9-program-table {
    width: 100%;
    display: grid;
    row-gap: 1rem;
    padding: 1rem 0rem 2.5rem 0rem;
  }

  @media screen and (min-width: 1024px) {
    .s9-program-table {
      grid-template-columns: 1fr 4fr;
    }
  }
  @media screen and (min-width: 768px) and (max-width: 1023px) {
    .s9-program-table {
      grid-template-columns: 1fr 3fr;
    }
  }
  @media screen and (max-width: 767px) {
    .s9-program-table {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>
<body>
  <div class="s9-banner-container">
    <div class="s9-text-container">
      <div class="s9-event-title">
        <div class="s9-banner-heading">Critical Moments</div>
      </div>
      <div class="s9-banner-buttons-container flex-row justify-center align-center">
        <a href="https://ensrq.ticketspice.com/critical-moments-live" target="_blank">
          <button class="s9-purchase-tickets-button">Purchase Live Tickets</button>
        </a>
        <a href="https://ensrq.ticketspice.com/critical-moments-streaming" target="_blank">
          <button class="s9-livestream-access-button">Purchase Livestream</button>
        </a>
      </div>
    </div>
    <div class="moving-strip-container" id="moving-strips-container"></div>
  </div>

  <div class="s9-event-details-container">
    <div class="s9-top-row-container flex-row align-center">
      <div class="s9-event-title">Critical Moments</div>
      <div class="s9-event-date">March 17, 2025 @ 7:30pm</div>
    </div>
    <hr />
    <p class="s9-event-blurb">
      George Perle’s sparkling musical wit and humor are on display in his sextet, Critical Moments, paired alongside
      exquisite string and wind works from Carolyn Chen, and Kenji Bunch. A commissioned work by rising star, Kitty
      Xiao, anchors this program of enchanting musical worlds while Samantha Bennett solos in Marcos Balter’s beguiling
      Violin Concerto to close this unique program of musical masterpieces, large and small.
    </p>
    <hr />
  </div>

  <div class="s9-artists-block-container">
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/691e6140-d99c-4f9e-b1e0-a6c8f6920889/05-01-kenjiBunch.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">Kenji Bunch</div>
    </div>
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/6dbe969c-039b-476f-823d-0aaa2cd8708a/05-02-georgePerle.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">George Perle</div>
    </div>
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/ef200b65-9a1e-4130-b857-c93b967ed592/05-05-marcosBalter.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">Marcos Balter</div>
    </div>
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/a64e5bba-bcf7-4d9d-ba4b-7626c9af4a58/05-04-carolynChen.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">Carolyn Chen</div>
    </div>
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/6da0bc25-6509-4243-8b0f-60d55770427e/05-03-kittyXiao.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">Kitty Xiao</div>
    </div>
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/e3c86b51-5d3d-4367-a3d8-b9f4c9eba9d4/05-06-betsy-hudson-traba.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">Betsy Hudson Traba</div>
    </div>
    <div class="s9-artist-container">
      <div class="s9-artist-photo">
        <img
          src="https://images.squarespace-cdn.com/content/60be519aafbc39042f92512d/df365d9d-1fc4-4b3a-a520-c12dedf30f01/04-06-GeorgeNickson.jpg?format=500w"
        />
      </div>
      <div class="s9-artist-name">George Nickson</div>
    </div>
  </div>

  <div class="s9-program-container">
    <hr />
    <div class="s9-program-title">Program</div>
    <div class="s9-program-table">
      <div class="s9-program-composer">Kenji Bunch</div>
      <div class="s9-program-work">Until Next Time (2010)</div>

      <div class="s9-program-composer">George Perle</div>
      <div class="s9-program-work">Critical Moments (2001)</div>

      <div class="s9-program-composer">Kitty Xiao</div>
      <div class="s9-program-work">New Work COMMISSION (2025)</div>

      <div class="s9-program-composer">Carolyn Chen</div>
      <div class="s9-program-work">Oceans in Oceans (2014)</div>

      <div class="s9-program-composer">Marcos Balter</div>
      <div class="s9-program-work">Violin Concerto (2016)</div>
    </div>
    <hr />
  </div>

  <script>
    const stripColors = ['s9-grain-sand', 's9-grain-blue', 's9-grain-green'];

    const container = document.getElementById('moving-strips-container');
    const s9LandingContentContainer = document.getElementsByClassName('s9-banner-container')[0];

    let stripHeight5vh = Math.floor(window.innerHeight / 20); // 5vh
    let randomColorVal = Math.floor(Math.random() * stripColors.length);
    const randomStripColor = stripColors[randomColorVal];

    const maxSpeed = 3;

    console.log(stripHeight5vh);

    function updateHeight() {
      totalHeightInPx = s9LandingContentContainer.getBoundingClientRect().height;
      stripHeight5vh = Math.floor(window.innerHeight / 20);
      console.log('Updated Height:', totalHeightInPx);
    }

    function clearContainer() {
      while (container.firstChild) {
        container.removeChild(container.firstChild);
      }
    }

    function createStrip(stripIndex) {
      const strip = document.createElement('div');
      strip.classList.add(randomStripColor, 'moving-strip');

      strip.style.top = `${stripIndex * stripHeight5vh}px`;

      const randomOffset = Math.random() * window.innerWidth;
      strip.style.backgroundPosition = `${randomOffset}px 0`;

      const minSpeed = 3;
      const maxSpeed = 10;
      const speed = Math.random() * (maxSpeed - minSpeed) + minSpeed;
      const duration = 1000 / speed;

      strip.style.animation = `slide ${duration}s linear infinite`;

      return strip;
    }

    function manageStrips() {
      updateHeight();
      clearContainer();
      const height = totalHeightInPx;

      const numStrips = Math.ceil(height / stripHeight5vh);

      for (let stripCount = 0; stripCount < numStrips; stripCount++) {
        const strip = createStrip(stripCount);
        container.appendChild(strip);
      }

      const stripWidth = container.offsetWidth;
      const offsetX = (window.innerWidth - stripWidth) / 2;
      container.style.backgroundPosition = `${-offsetX}px center`;
    }

    window.addEventListener('load', () => {
      updateHeight();
      manageStrips();
    });

    const resizeObserver = new ResizeObserver(() => {
      manageStrips();
    });

    resizeObserver.observe(document.body); // Observing the body to detect changes in window size

    setTimeout(() => {
      manageStrips();
    }, 10);
  </script>
</body>
